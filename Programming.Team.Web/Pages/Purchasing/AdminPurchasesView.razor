@page "/purchasing/admin"
@inherits ReactiveInjectableComponentBase<GlobalPurchaseHistoryViewModel>
@attribute [Authorize(Roles = "Admin")]
@if (ViewModel != null)
{
    <AlertView Alert="ViewModel.Alert" />
    <MudDataGrid T="Purchase" ServerData="ViewModel.Fetch.BindServerDataCommand()"
                 Filterable="true" FilterMode="DataGridFilterMode.ColumnFilterMenu"
                 SortMode="SortMode.Multiple">
        <Columns>
            <PropertyColumn Property="x => x.User.LastName" Title="Last Name"/>
            <PropertyColumn Property="x => x.User.FirstName" Title="First Name"/>
            <PropertyColumn Property="x => x.User.EmailAddress" Title="Email"/>
            <PropertyColumn Property="x => x.ResumeGenerations" Title="Resume Generations" />
            <PropertyColumn Property="x => x.PricePaid" Title="Price" />
            <PropertyColumn Property="x => x.IsPaid" Title="Is Paid?" />
            <PropertyColumn Property="x => x.UpdateDate" Title="Last Update Date" />
        </Columns>
        <PagerContent>
            <MudDataGridPager T="Purchase" />
        </PagerContent>
    </MudDataGrid>
}
@code {

}
