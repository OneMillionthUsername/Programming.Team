@inherits ReactiveComponentBase<EducationViewModel>

@if (ViewModel != null)
{
    <AlertView Alert="ViewModel.Alert" />
    
    <MudPaper Class="pa-8 rounded-xl" Elevation="10" Style="
        background: white;
        border: 1px solid #e0e0e0;
        box-shadow: 0 10px 20px rgba(0,0,0,0.04), 0 2px 6px rgba(0,0,0,0.04), 0 0 1px rgba(0,0,0,0.04);
    ">
        <!-- Header with subtle accent -->
        <div class="mb-6 pb-2" style="border-bottom: 1px solid rgba(var(--mud-palette-primary-rgb), 0.2);">
            <MudText Typo="Typo.h4" Class="text-primary" Style="
                font-weight: 600;
                letter-spacing: -0.5px;
                display: flex;
                align-items: center;
                gap: 8px;
            ">
                <MudIcon Icon="@Icons.Material.Filled.School" Size="Size.Medium" />
                <span>Education Details</span>
            </MudText>
        </div>
        
        <MudGrid Spacing="4" Justify="Justify.Center">
            <!-- Institution -->
            <MudItem xs="12">
                <MudText Typo="Typo.subtitle1" Class="mb-2" Style="font-weight: 500;">
                    <MudIcon Icon="@Icons.Material.Filled.AccountBalance" Class="mr-2" />
                    Institution: @ViewModel.Institution?.Name
                </MudText>
            </MudItem>
            
            <!-- Major -->
            <MudItem xs="12" md="6">
                <MudTextField @bind-Value="ViewModel.Major" 
                              Label="Major" 
                              Variant="Variant.Outlined" 
                              AdornmentIcon="@Icons.Material.Filled.Workspaces"
                              Adornment="Adornment.Start"
                              Class="fancy-input"
                              InputStyle="padding-left: 8px;"
                              LabelClass="font-weight-bold">
                </MudTextField>
            </MudItem>
            
            <!-- Graduated -->
            <MudItem xs="12" md="6">
                <div style="padding: 16px 0 8px 8px;">
                    <MudCheckBox @bind-Value="ViewModel.Graduated" 
                                 Label="Graduated?" 
                                 Color="Color.Primary"
                                 Class="font-weight-bold" />
                </div>
            </MudItem>
            
            <!-- Dates -->
            <MudItem xs="12" md="6">
                <MudDatePicker @bind-Date="ViewModel.StartDateTime" 
                              Label="Start Date" 
                              MinDate="new DateTime(1950, 1, 1)"
                              InputVariant="Variant.Outlined"
                              AdornmentIcon="@Icons.Material.Filled.CalendarToday"
                              Class="fancy-input"
                              InputStyle="padding-left: 8px;"
                              LabelClass="font-weight-bold">
                </MudDatePicker>
            </MudItem>
            
            <MudItem xs="12" md="6">
                <MudDatePicker @bind-Date="ViewModel.EndDateTime" 
                              Label="End Date" 
                              MinDate="new DateTime(1950, 1, 1)"
                              InputVariant="Variant.Outlined"
                              AdornmentIcon="@Icons.Material.Filled.EventAvailable"
                              Class="fancy-input"
                              InputStyle="padding-left: 8px;"
                              LabelClass="font-weight-bold">
                </MudDatePicker>
            </MudItem>
            
            <!-- Description -->
            <MudItem xs="12">
                <SmartTextEditor TViewModel="EducationViewModel" ViewModel="ViewModel.SmartText" />
            </MudItem>
            
            <!-- Action Buttons -->
            <MudItem xs="12" Class="mt-6">
                <MudStack Row="true" Justify="Justify.Center" Spacing="4">
                    <MudButton OnClick="ViewModel.Update.BindCommand<MouseEventArgs>()" 
                              Class="fw-bold px-6 py-3" 
                              Variant="Variant.Filled"
                              Color="Color.Primary"
                              EndIcon="@Icons.Material.Filled.Save"
                              Style="
                                  min-width: 150px;
                                  border-radius: 8px;
                                  text-transform: none;
                                  letter-spacing: 0.5px;
                              ">
                        Update Education
                    </MudButton>
                    
                    <MudButton OnClick="ViewModel.Delete.BindCommand<MouseEventArgs>()" 
                              Class="fw-bold px-6 py-3" 
                              Variant="Variant.Outlined"
                              Color="Color.Error"
                              EndIcon="@Icons.Material.Filled.Delete"
                              Style="
                                  min-width: 150px;
                                  border-radius: 8px;
                                  text-transform: none;
                                  letter-spacing: 0.5px;
                                  border-width: 2px;
                              ">
                        Delete
                    </MudButton>
                </MudStack>
            </MudItem>
        </MudGrid>
    </MudPaper>
}

<style>
    .fancy-input .mud-input-outlined-border {
        border-radius: 8px;
        border-width: 1.5px;
        transition: border-color 0.2s ease;
    }

    .fancy-input:hover .mud-input-outlined-border {
        border-color: var(--mud-palette-primary) !important;
    }

    .mud-input-label-outlined {
        background: white !important;
        padding: 0 8px !important;
        left: 8px !important;
    }

    .mud-input-control-outlined .mud-input-slot {
        padding-left: 8px;
    }
</style>

@code {
}